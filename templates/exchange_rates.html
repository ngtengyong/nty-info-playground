<!DOCTYPE html>
<html>
<head>
    <title>South East Asian Currencies against US Dollar</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css"  crossorigin="">
    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js" crossorigin=""></script>
</head>
<body>
    <body>
        <div id="map" style="height: 500px;"></div>
      </body>
      
    <table>
        <thead>
            <tr>
                <th>Country</th>
                <th>Currency</th>
                <th>Equivalent Value of 1 USD</th>
                <th>Last Updated On</th>
            </tr>
        </thead>
        <tbody>
            {% for record in records %}
            <tr>
                <td>{{ record['country'] }}</td>
                <td>{{ record['to_currency_code'] }}</td>
                <td>{{ record['equivalent_value'] }}</td>
                <td>{{ record['last_updated_on'] }}</td>
            </tr>
            {% endfor %}
        </tbody>
        
    </table>
    <script>
var map = L.map('map').setView([10, 105], 4);

L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
  attribution: 'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, ' +
    '<a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, ' +
    'Imagery Â© <a href="https://www.mapbox.com/">Mapbox</a>',
  maxZoom: 18
}).addTo(map);

var countries = {
    "Brunei": {"currency": "BND", "value": 1.3430929999999999, "latlng": [4.5353, 114.7277]},
    "Indonesia": {"currency": "IDR", "value": 15387.2, "latlng": [-0.7893, 113.9213]},
    "Cambodia": {"currency": "KHR", "value": 4042.69, "latlng": [12.5657, 104.9910]},
    "Laos": {"currency": "LAK", "value": 16857.89, "latlng": [19.8563, 102.4955]},
    "Myanmar": {"currency": "MMK", "value": 2096.882, "latlng": [21.9162, 95.9550]},
    "Malaysia": {"currency": "MYR", "value": 4.4745, "latlng": [4.2105, 101.9758]},
    "Philippines": {"currency": "PHP", "value": 54.9635, "latlng": [12.8797, 121.7740]},
    "Singapore": {"currency": "SGD", "value": 1.3432849999999998, "latlng": [1.3521, 103.8198]},
    "Thailand": {"currency": "THB", "value": 34.550000000000004, "latlng": [15.8700, 100.9925]},
    "Vietnam": {"currency": "VND", "value": 23580.0, "latlng": [14.0583, 108.2772]}
};

for (var country in countries) {
    var latlng = countries[country]["latlng"];
    var currency = countries[country]["currency"];
    var value = countries[country]["value"];
    var marker = L.marker(latlng).addTo(map);
    marker.bindPopup(country + "<br>Currency: " + currency + "<br>Value: " + value);
}


    </script>
</body>
</html>
